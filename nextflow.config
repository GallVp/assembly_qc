includeConfig './conf/base.config'

params { 
    haplotype_fasta         = [["hap1", "./test_data/test_data1.fasta"], ["hap2", "./test_data/test_data2.fasta"]]

    // Optional
    // Set to null if not needed such as: haplotype_gff3 = null
    // Not all haplotye gff3 files have to be provided such as: haplotype_gff3 = [["hap1", "./test_data/test_data1.gff3"]]
    haplotype_gff3          = [["hap1", "./test_data/test_data1.gff3"], ["hap2", "./test_data/test_data2.gff3"]]

    ncbi_fcs_adaptor {
        skip                = 0 // 1: Skip, 0: Don't

        empire              = 'euk' // euk: Eukaryote, prok: Prokaryote

        // For interpretation of results, see:
        // https://github.com/ncbi/fcs/wiki/FCS-adaptor#rules-for-action-assignment
        //
        // If adaptors are found, the pipeline stops with a report of adaptor contamination
    }
    
    busco {
        skip                = 0
        
        // BUSCO runs for each haplotype in combination with each lineage and Augustus species
        // Full cartesian product: Haplotype x Lineage x Species
        // https://busco.ezlab.org/list_of_lineages.html
        lineage_datasets    = ["fungi_odb10", "microsporidia_odb10"]
        
        // https://bioinf.uni-greifswald.de/augustus/
        augustus_species    = ["fumigatus", "nidulans"]
    }

    tidk {
        skip                = 0
        
        // http://telomerase.asu.edu/sequences_telomere.html
        // Plant: TTTAGGG, Fungus, Vertebrates: TTAGGG, Insect: TTAGG
        repeat_seq          = "TTAGGG"
    }

    lai {
        skip                = 0

        // To avoid running EDTA before LAI, provide pass_list and out_file. If these files are not availabl,
        // simply set these variables to null.
        // Warning: Make sure the sequence names in the haplotype_fasta, the pass_list, and the out_file match.
        // EDTA modifies the sequence names, if they are not short (<=13 characters)
        // and simple (i.e, letters, numbers, and underscore).
        //
        // Pattern:
        // pass_list           = [["hap_name", "file_path"], ["hap_name", "file_path"]]
        pass_list           = null
        out_file            = null
        
        edta {
            is_sensitive    = 0 // 1: Sensitive (very slow), 0: Not sensitive
        }
    }

    kraken2 {
        skip                = 0

        // Using PlusPFP-16: archaea, viral, plasmid, human, UniVec_Core, protozoa, fungi & plant capped at 16 GB
        // https://benlangmead.github.io/aws-indexes/k2
        // If you change the database, first delete the kraken2db folder located in the project directory. Otherwise,
        // the pipeline may not download the new db version.
        db_url              = "https://genome-idx.s3.amazonaws.com/kraken/k2_pluspfp_16gb_20221209.tar.gz"
    }
    
    // Relative to the directory from which the pipeline is launched.
    outdir {
        main                = "./results"
    }

    max_cpus                = 32
    is_hyperthreaded        = 1 // 1: Hyperthreading is enabled, 0: Disabled

    max_memory              = 16.GB
    
    // LAI::EDTA can take a long time
    max_time                = 3.days
}

includeConfig './conf/compiled.config'
includeConfig './conf/module_defaults.config'